<app-toolbar
    [title]="'Logs'"
    [back]="'/students'"
></app-toolbar>
<div class="calendar-page">
    <div class="calendar-page-button-group">
        <button
            mat-raised-button
            color="primary"
            class="calendar-page-button"
            mwlCalendarPreviousView
            [view]="'month'"
            [(viewDate)]="viewDate"
        >
            < Previous
        </button>
        <h1>
            {{ viewDate | calendarDate:('monthViewTitle'):'en' }}
        </h1>
        <button
            mat-raised-button
            color="primary"
            class="calendar-page-button"
            mwlCalendarNextView
            [view]="'month'"
            [(viewDate)]="viewDate"
        >
            Next >
        </button>
    </div>
    <mwl-calendar-month-view
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        [cellTemplate]="calendarCellTemplate"
    >
    </mwl-calendar-month-view>
</div>
<ng-template
    #calendarCellTemplate
    let-day="day"
    let-locale="locale"
>
    <div class="calendar-page-cell">
        <span class="cal-day-number">
            {{ day.date | calendarDate:'monthViewDayNumber':locale }}
        </span>
        <ng-container *ngFor="let event of day.events">
            <h2>{{ event.title }}</h2>
            <button
                mat-raised-button
                color="primary"
                [routerLink]="'/log/' + event.id"
            >
                View
            </button>
        </ng-container>
    </div>
</ng-template>
